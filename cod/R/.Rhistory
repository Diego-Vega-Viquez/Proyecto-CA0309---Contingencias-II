cf <- rep(cup_por_pago, length(pagos))
cf[length(cf)] <- cf[length(cf)] + nominal
vals <- numeric(T + 1)
movs <- character(T + 1)
for (t in 0:T) {
movs[t + 1] <- if (t == 0) " " else paste0(rep("U", t), collapse = "")
idx <- which(pagos >= (t + 1))
if (length(idx) == 0L) {
vals[t + 1] <- 0
} else {
S_vec  <- pagos[idx]
cf_vec <- cf[idx]
P_tS <- mapply(function(S) ramas_up[[S]]$valor[t + 1], S_vec)
vals[t + 1] <- sum(cf_vec * P_tS)
}
}
data.frame(
t = 0:T,
movimiento = movs,
valor = vals
)
}
ramas_bonos_crc <- Map(
f = function(T, tasa, freq, VN){
rama_superior_bono_cuponado(
ramas_up       = ramas_up_crc,
T              = T,
tasa_anual     = tasa,
pagos_por_anio = freq,
nominal        = VN,
pasos_por_anio = 12
)
},
T    = bc_crc_venc,
tasa = bc_crc_cupones,
freq = bc_crc_cup_x_ano,
VN   = bc_crc_valor
)
rama_bono_dol <- rama_superior_bono_cuponado(
ramas_up       = ramas_up_dol,
T              = bc_dol_venc,
tasa_anual     = bc_dol_cupones,
pagos_por_anio = bc_dol_cup_x_ano,
nominal        = bc_dol_valor,
pasos_por_anio = 12
)
simular_rutas <- function(T, n_sims){
rutas <- matrix(rbinom(n_sims*T, 1, 0.5), nrow = n_sims)
ups <- t(apply(rutas, 1, cumsum))
ups <- cbind(0, ups)
return(ups)
}
simular_bono_cuponado <- function(rama, ratio, n_sims){
T <- max(rama$t)
ups <- simular_rutas(T, n_sims)
valores_up <- rama$valor
sims <- matrix(0, n_sims, T+1)
for(t in 0:T){
k <- ups[, t+1]
downs <- t - k
if(t == T){
sims[, t+1] <- valores_up[t+1]
} else {
sims[, t+1] <- valores_up[t+1] * ratio[T - t]^(downs)
}
}
return(sims)
}
n_sims <- 10000
simulaciones_crc <- lapply(
ramas_bonos_crc,
function(rama) simular_bono_cuponado(rama, ratio_col, n_sims)
)
simulaciones_dol <- list(
simular_bono_cuponado(rama_bono_dol, ratio_dol, n_sims)
)
library(tidyverse)
library(readxl)
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
df
df$freq_cat <- cut(df$`7.
Aproximadamente, ¿cuántas veces por año recibió educación sexual en la secundaria? (Responda un número entero)`,
breaks = c(-Inf, 0, 2, 5, Inf),
labels = c("Sin exposición", "Baja", "Media", "Alta"),
ordered_result = TRUE)
Aproximadamente, ¿cuántas veces por año recibió educación sexual en la secundaria? (Responda un número entero)`)
df$`7. Aproximadamente, ¿cuántas veces por año recibió educación sexual en la secundaria? (Responda un número entero)` <- as.numeric(df$`7. Aproximadamente, ¿cuántas veces por año recibió educación sexual en la secundaria? (Responda un número entero)`)
colnames(df)
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12',)
colnames(df)
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$freq_cat <- cut(df$7,
df$freq_cat <- cut(df$`7`,
breaks = c(-Inf, 0, 2, 5, Inf),
labels = c("Sin exposición", "Baja", "Media", "Alta"),
ordered_result = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
resultado_tau <- cor.test(df$freq_cat, df$infl_ITS, method = "kendall")
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$`7` <- as.numeric(df$`7`)
df$`8` <- as.numeric(df$`8`)
df$freq_cat <- cut(df$`7`,
breaks = c(-Inf, 0, 2, 5, Inf),
labels = c("Sin exposición", "Baja", "Media", "Alta"),
ordered_result = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
resultado_tau <- cor.test(df$freq_cat, df$infl_ITS, method = "kendall")
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$`7` <- as.numeric(df$`7`)
df$`8` <- as.numeric(df$`8`)
df$freq_cat <- factor(df$`7`,
levels = 1:10,
ordered = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
resultado_tau <- cor.test(df$freq_cat, df$infl_ITS, method = "kendall")
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$`7` <- as.numeric(df$`7`)
df$`8` <- as.numeric(df$`8`)
df$freq_cat <- factor(df$`7`,
levels = 1:10,
ordered = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
df
view(df)
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$`7` <- as.numeric(df$`7`)
df$`8` <- as.numeric(df$`8`)
df$freq_cat <- factor(df$`7`,
levels = 0:10,
ordered = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
view(df)
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
view(df)
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
df <- na.omit(df)
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$`7` <- as.numeric(df$`7`)
df$`8` <- as.numeric(df$`8`)
df$freq_cat <- factor(df$`7`,
levels = 0:10,
ordered = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
view(df)
resultado_tau <- cor.test(df$freq_cat, df$infl_ITS, method = "kendall")
resultado_tau <- cor.test(
as.numeric(df$freq_cat),
as.numeric(df$infl_ITS),
method = "kendall"
)
resultado_tau
resultado_tau <- cor.test(
as.numeric(df$freq_cat),
as.numeric(df$infl_ITS),
method = "kendall"
)
df <- read_excel('Efectividad de la educación sexual recibida en secundaria sobre el conocimiento actual de ITS UCR.xlsx')
df <- na.omit(df)
colnames(df) <- c('fecha', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12')
df$`7` <- as.numeric(df$`7`)
df$`8` <- as.numeric(df$`8`)
df$freq_cat <- cut(df$`7`,
breaks = c(-Inf, 0, 2, 5, Inf),
labels = c("Sin exposición", "Baja", "Media", "Alta"),
ordered_result = TRUE)
df$infl_ITS <- factor(df$`8`,
levels = 1:5,
ordered = TRUE)
cor.test(as.numeric(df$freq_cat), as.numeric(df$infl_ITS), method = "kendall")
tabla <- matrix(c(9,0,
6,3,
8,0),
nrow = 3, byrow = TRUE)
colnames(tabla) <- c("Reconoce","No_Reconoce")
rownames(tabla) <- c("Suficiente","Parcialmente","No_suficiente")
chisq.test(tabla)
fisher.test(tabla)
library(rcompanion)
install.packages("rcompanion")
library(rcompanion)
rcramerV(tabla, method = "kendall")
library(lsr)
install.packages("lsr")
library(lsr)
cramersV(tabla)
library(readxl)
library(tidyverse)
library(ggplot2)
library(lmtest)
library(car)
library(stats)
library(dplyr)
library(forecast)
library(tseries)
soberana <- read_excel('../../data/curva_soberana.xlsx', sheet = 'curva')
setwd("~/II2025/CA0309 Contingencias de Vida II/Proyecto-CA0309---Contingencias-II/cod/R")
soberana <- read_excel('../../data/curva_soberana.xlsx', sheet = 'curva')
colnames(soberana) <- c('dias', 'tasa', 'fecha')
soberana_final_mes <- soberana %>%
mutate(anio_mes = floor_date(fecha, "month")) %>%
group_by(anio_mes) %>%
summarise(tasa = last(tasa))
#view(soberana_final_mes)
ts_soberana_final_mes <- ts(soberana_final_mes$tasa, start = c(2025, 1), frequency = 12)
# Ajuste del modelo Holt-Winters (ETS con estacionalidad)
modelo_hw <- ets(ts_soberana_final_mes, model = "AAA")
summary(modelo_hw)
checkresiduals(modelo_hw)
forecast_hw <- forecast(modelo_hw, h = 50 * 12)  # Pronóstico a 50 años (600 meses)
# Graficar
autoplot(forecast_hw) +
labs(title = "Pronóstico Holt-Winters (ETS) con Estacionalidad", x = "Fecha", y = "Tasa proyectada")
# Ajuste del modelo Holt-Winters (ETS con estacionalidad)
modelo_hw <- ets(ts_soberana_final_mes, model = "AAS")
modelo_sarima_2 <- auto.arima(ts_soberana_final_mes, seasonal = TRUE, stepwise = FALSE, approximation = FALSE)
summary(modelo_sarima_2)
checkresiduals(modelo_sarima_2)
forecast_sarima_2 <- forecast(modelo_sarima_2, h = 50 * 12)
autoplot(forecast_sarima_2) +
labs(title = "Pronóstico SARIMA de Tasas Soberanas a 50 Años (Mensual)",
x = "Fecha", y = "Tasa proyectada")
modelo_sarima_2 <- auto.arima(ts_soberana_final_mes, seasonal = TRUE, stepwise = TRUE, approximation = FALSE)
summary(modelo_sarima_2)
checkresiduals(modelo_sarima_2)
forecast_sarima_2 <- forecast(modelo_sarima_2, h = 50 * 12)
autoplot(forecast_sarima_2) +
labs(title = "Pronóstico SARIMA de Tasas Soberanas a 50 Años (Mensual)",
x = "Fecha", y = "Tasa proyectada")
modelo_sarima_2<- auto.arima(ts_soberana_final_mes, seasonal = TRUE, D = 1, max.P = 2, max.Q = 2)
summary(modelo_sarima_2)
checkresiduals(modelo_sarima_2)
forecast_sarima_2 <- forecast(modelo_sarima_2, h = 50 * 12)
autoplot(forecast_sarima_2) +
labs(title = "Pronóstico SARIMA de Tasas Soberanas a 50 Años (Mensual)",
x = "Fecha", y = "Tasa proyectada")
# Ajuste del modelo Holt-Winters (ETS con estacionalidad)
modelo_hw <- ets(ts_soberana_final_mes, model = "AAS")
soberana_final_mes
soberana_final_mes <- soberana %>%
mutate(anio_mes = ceiling_date(fecha, "month")) %>%
group_by(anio_mes) %>%
summarise(tasa = last(tasa))
soberana_final_mes
soberana
# Ajuste del modelo Holt-Winters (ETS con estacionalidad)
frequency(ts_soberana_final_mes)
modelo_hw <- ets(ts_soberana_final_mes, model = "AAS")
glimpse(soberana)
soberana <- soberana %>% mutate(fecha = as.Date(fecha))
soberana_final_mes <- soberana %>%
mutate(anio_mes = floor_date(fecha, "month")) %>%  # Crear columna de año y mes
group_by(anio_mes) %>%  # Agrupar por año y mes
summarise(
dias = last(dias),  # Conservar el último valor de 'dias' de cada mes
tasa = last(tasa),  # Conservar el último valor de 'tasa' de cada mes
fecha = last(fecha)  # Conservar la última fecha de cada mes
)
soberana_final_mes
view(soberana_final_mes)
soberana_final_mes <- soberana %>%
mutate(anio_mes = floor_date(fecha, "month")) %>%  # Crear columna de año y mes
group_by(anio_mes) %>%  # Agrupar por año y mes
summarise(
dias = last(dias),  # Conservar el último valor de 'dias' de cada mes
tasa = last(tasa),  # Conservar el último valor de 'tasa' de cada mes
fecha = last(fecha)  # Conservar la última fecha de cada mes
) %>% select(-anio_mes)
view(soberana_final_mes)
modelo_lm <- lm(tasa ~ dias, data = head(soberana_final_mes, 107))
summary(modelo_lm)
soberana_final_mes <- soberana_final_mes %>%
mutate(
dias2 = dias^2,
dias3 = dias^3
)
modelo_lm_2 <- lm(tasa ~ dias + dias2, data = head(soberana_final_mes, 107))
summary(modelo_lm_2)
modelo_lm_3 <- lm(tasa ~ dias + dias2 + dias3, data = head(soberana_final_mes, 107))
summary(modelo_lm_3)
modelo_lm_4 <- step(modelo_lm_3, direction = 'both', trace = 0)
summary(modelo_lm_4)
verificar_supuestos_regresion <- function(modelo) {
# 1. Linealidad
par(mfrow = c(1, 1))  # Ajustar la disposición de los gráficos
plot(modelo$fitted.values, modelo$residuals,
main = "Residuos vs Valores Ajustados (Linealidad)",
xlab = "Valores Ajustados", ylab = "Residuos", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
# 2. Independencia (autocorrelación) - Test de Durbin-Watson
dw_test <- dwtest(modelo)
cat("Durbin-Watson Test: p-value =", dw_test$p.value, "\n")
# 3. Homoscedasticidad (Varianza constante) - Gráfico de dispersión
plot(modelo$fitted.values, abs(modelo$residuals),
main = "Residuos vs Valores Ajustados (Homoscedasticidad)",
xlab = "Valores Ajustados", ylab = "|Residuos|", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
# 4. Normalidad de los errores - Gráfico Q-Q
qqnorm(modelo$residuals, main = "Gráfico Q-Q de los Residuos")
qqline(modelo$residuals, col = "red", lwd = 2)
# Test de normalidad (Shapiro-Wilk)
shapiro_test <- shapiro.test(modelo$residuals)
cat("Shapiro-Wilk Test de Normalidad: p-value =", shapiro_test$p.value, "\n")
# 5. Multicolinealidad (solo para regresión múltiple)
if (length(coef(modelo)) > 2) {
# VIF (Factor de Inflación de la Varianza)
vif_resultados <- vif(modelo)
cat("Factores de Inflación de la Varianza (VIF):\n")
print(vif_resultados)
}
# Resumen de los supuestos
cat("\nResumen de los supuestos:\n")
cat("1. Linealidad: Observa el gráfico de residuos vs valores ajustados.\n")
cat("2. Independencia: Prueba de Durbin-Watson. Si el p-valor es cercano a 0, hay autocorrelación.\n")
cat("3. Homoscedasticidad: Observa el gráfico de residuos vs valores ajustados.\n")
cat("4. Normalidad de los errores: Test de Shapiro-Wilk y gráfico Q-Q.\n")
if (length(coef(modelo)) > 2) {
cat("5. Multicolinealidad: Factores de Inflación de la Varianza (VIF). Valores mayores a 10 indican problemas.\n")
}
par(mfrow = c(1, 1))  # Reset de los gráficos
}
verificar_supuestos_regresion(modelo_lm_1)
modelo_lm_1 <- lm(tasa ~ dias, data = head(soberana_final_mes, 107))
summary(modelo_lm_1)
modelo_lm_2 <- lm(tasa ~ dias + dias2, data = head(soberana_final_mes, 107))
summary(modelo_lm_2)
modelo_lm_3 <- lm(tasa ~ dias + dias2 + dias3, data = head(soberana_final_mes, 107))
summary(modelo_lm_3)
modelo_lm_4 <- step(modelo_lm_3, direction = 'both', trace = 0)
summary(modelo_lm_4)
verificar_supuestos_regresion(modelo_lm_1)
view(soberana_final_mes)
# Función para verificar los supuestos de un modelo de regresión lineal con gráficos en cuadrícula
verificar_supuestos_regresion_grid <- function(modelo) {
# Configurar la cuadrícula de gráficos
par(mfrow = c(2, 2))  # 2 filas, 2 columnas de gráficos
# 1. Linealidad: Residuos vs Valores Ajustados
plot(modelo$fitted.values, modelo$residuals,
main = "Residuos vs Valores Ajustados (Linealidad)",
xlab = "Valores Ajustados", ylab = "Residuos", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
# 2. Homoscedasticidad: Residuos vs Valores Ajustados (absolute value)
plot(modelo$fitted.values, abs(modelo$residuals),
main = "Residuos vs Valores Ajustados (Homoscedasticidad)",
xlab = "Valores Ajustados", ylab = "|Residuos|", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
# 3. Normalidad de los errores: Gráfico Q-Q
qqnorm(modelo$residuals, main = "Gráfico Q-Q de los Residuos")
qqline(modelo$residuals, col = "red", lwd = 2)
# 4. ACF de los residuos (autocorrelación)
acf(modelo$residuals, main = "ACF de los Residuos")
# 5. Histograma de los residuos
hist(modelo$residuals, main = "Histograma de los Residuos",
xlab = "Residuos", col = "lightblue", border = "black")
# Restaurar la configuración de gráficos por defecto
par(mfrow = c(1, 1))
}
verificar_supuestos_regresion(modelo_lm_1)
modelo <- modelo_lm_1
plot(modelo$fitted.values, modelo$residuals,
main = "Residuos vs Valores Ajustados (Linealidad)",
xlab = "Valores Ajustados", ylab = "Residuos", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
plot(modelo$fitted.values, abs(modelo$residuals),
main = "Residuos vs Valores Ajustados (Homoscedasticidad)",
xlab = "Valores Ajustados", ylab = "|Residuos|", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
qqnorm(modelo$residuals, main = "Gráfico Q-Q de los Residuos")
qqline(modelo$residuals, col = "red", lwd = 2)
acf(modelo$residuals, main = "ACF de los Residuos")
hist(modelo$residuals, main = "Histograma de los Residuos",
xlab = "Residuos", col = "lightblue", border = "black")
modelo <- modelo_lm_3
plot(modelo$fitted.values, modelo$residuals,
main = "Residuos vs Valores Ajustados (Linealidad)",
xlab = "Valores Ajustados", ylab = "Residuos", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
# 2. Homoscedasticidad: Residuos vs Valores Ajustados (absolute value)
plot(modelo$fitted.values, abs(modelo$residuals),
main = "Residuos vs Valores Ajustados (Homoscedasticidad)",
xlab = "Valores Ajustados", ylab = "|Residuos|", pch = 16, col = "blue")
abline(h = 0, col = "red", lwd = 2)
# 3. Normalidad de los errores: Gráfico Q-Q
qqnorm(modelo$residuals, main = "Gráfico Q-Q de los Residuos")
qqline(modelo$residuals, col = "red", lwd = 2)
# 4. ACF de los residuos (autocorrelación)
acf(modelo$residuals, main = "ACF de los Residuos")
# 5. Histograma de los residuos
hist(modelo$residuals, main = "Histograma de los Residuos",
xlab = "Residuos", col = "lightblue", border = "black")
soberana_final_mes <- soberana %>%
mutate(anio_mes = floor_date(fecha, "month")) %>%
group_by(anio_mes) %>%
summarise(
dias = last(dias),
tasa = last(tasa),
fecha = last(fecha)
) %>% select(-anio_mes)
view(soberana_final_mes)
datos <- soberana_final_mes
datos$tasa <- as.numeric(datos$tasa)
serie_temporal <- ts(datos$tasa, frequency=12, start=c(2025, 1))  # Asegúrate de que 'start' sea correcto
plot(serie_temporal)
plot(serie_temporal, main="Serie Temporal de la Tasa", xlab="Fecha", ylab="Tasa")
acf(serie_temporal, main="ACF de la Tasa")
pacf(serie_temporal, main="PACF de la Tasa")
adf.test(serie_temporal)
arima <- auto.arima(serie_temporal)
summary(arima)
checkresiduals(arima)
predicciones <- forecast(modelo_arima, h=12)
plot(predicciones, main="Pronóstico de la Tasa", xlab="Fecha", ylab="Tasa")
predicciones <- forecast(arima, h=12)
plot(predicciones, main="Pronóstico de la Tasa", xlab="Fecha", ylab="Tasa")
accuracy(predicciones)
predicciones <- forecast(arima, h=120)
plot(predicciones, main="Pronóstico de la Tasa", xlab="Fecha", ylab="Tasa")
modelo_hw <- ets(serie_temporal)
summary(modelo_hw)
checkresiduals(modelo_hw)
predicciones_hw <- forecast(modelo_hw, h=24)
plot(predicciones_hw)
predicciones_hw <- forecast(modelo_hw, h=120)
plot(predicciones_hw)
modelo_arimax <- auto.arima(serie_temporal, xreg=dias)
modelo_arimax <- auto.arima(serie_temporal, xreg=datos$dias)
summary(modelo_arimax)
checkresiduals(modelo_arimax)
datos$dias
diff(datos$dias)
fecha_inicial <- as.Date("2034-12-31")
fechas_ultimos_dias <- seq(fecha_inicial, by = "month", length.out = (2054 - 2034 + 1) * 12)
ultimos_dias_mes <- as.Date(format(fechas_ultimos_dias, "%Y-%m-%d"))
predicciones_arimax <- forecast(modelo_arimax, xreg=proyeccion_variable_exogena, h=24)
print(ultimos_dias_mes)
fechas <- seq(fecha_inicial, as.Date("2054-12-31"), by = "month")
fechas
ultimos_dias_mes <- as.Date(format(fechas %m+% months(1) - days(1), "%Y-%m-%d"))
print(ultimos_dias_mes)
fechas <- read_excel('../../data/curva_soberana.xlsx', sheet = 'proyeccion')
fechas
fechas <- tail(fechas, 25974)
fechas <- read_excel('../../data/curva_soberana.xlsx', sheet = 'proyeccion')
fechas <- fechas %>%
mutate(Fecha = ceiling_date(Fecha, "month")) %>%
group_by(Fecha) %>%
summarise(
dias = last(`Plazo en días`),
fecha = last(Fecha)
)
fechas
fechas <- read_excel('../../data/curva_soberana.xlsx', sheet = 'proyeccion')
view(fechas)
fechas <- fechas %>%
group_by(Month = floor_date(Fecha, "month")) %>%
filter(Fecha == max(Fecha)) %>%
ungroup()
view(fechas)
fechas <- tail(fechas, 853)
head(fechas)
tail(soberana_final_mes)
24
predicciones_arimax <- forecast(modelo_arimax, xreg=fechas$`Plazo en días`, h=24)
plot(predicciones_arimax)
predicciones_arimax <- forecast(modelo_arimax, xreg=fechas$`Plazo en días`, h=120)
plot(predicciones_arimax)
predicciones_arimax <- forecast(modelo_arimax, xreg=fechas$`Plazo en días`, h=12)
plot(predicciones_arimax)
predicciones_arimax
df_predicciones <- data.frame(
Date = predicciones_arimax$mean,  # Los valores predichos
Lower_80 = predicciones_arimax$lower[,1],  # Límite inferior del intervalo de confianza al 80%
Upper_80 = predicciones_arimax$upper[,1],  # Límite superior del intervalo de confianza al 80%
Lower_95 = predicciones_arimax$lower[,2],  # Límite inferior del intervalo de confianza al 95%
Upper_95 = predicciones_arimax$upper[,2]   # Límite superior del intervalo de confianza al 95%
)
# Mostrar las primeras filas del data frame
head(df_predicciones)
# Mostrar las primeras filas del data frame
view(df_predicciones)
df_predicciones <- data.frame(
fecha = fechas$Fecha,
Tasa = predicciones_arimax$mean,  # Los valores predichos
Lower_80 = predicciones_arimax$lower[,1],  # Límite inferior del intervalo de confianza al 80%
Upper_80 = predicciones_arimax$upper[,1],  # Límite superior del intervalo de confianza al 80%
Lower_95 = predicciones_arimax$lower[,2],  # Límite inferior del intervalo de confianza al 95%
Upper_95 = predicciones_arimax$upper[,2]   # Límite superior del intervalo de confianza al 95%
)
# Mostrar las primeras filas del data frame
view(df_predicciones)
summary(modelo_arimax)
checkresiduals(modelo_arimax)
library('writexl')
install.packages("writexl")
library('writexl')
write_xlsx(df_predicciones, '../../data/pronostico_curva_soberana.xlsx')
